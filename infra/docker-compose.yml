version: "3.8"

services:
  globenotes-backend:
    build: ../GlobeNotes/backend      # Pfad zu deinem Backend mit Dockerfile
    container_name: globenotes-backend
    ports:
      - "8080:8080"                   # Backend nach außen
    volumes:
      - h2-data:/app/data             # H2-Datei persistent
      - uploads:/uploads              # dein Upload-Ordner, falls du den brauchst
    restart: unless-stopped

  globenotes-frontend:
    build: ../GlobeNotes              # Pfad zum Frontend-Projekt (mit Dockerfile)
    container_name: globenotes-frontend
    ports:
      - "80:80"                       # Frontend über http://localhost
    depends_on:
      - globenotes-backend
    restart: unless-stopped

volumes:
  h2-data:
  uploads:
